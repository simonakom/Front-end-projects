<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Table of Products</title>
    <!-- Boostrap CDN(content delivery network) & Javascript) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <style>
        body {
            background-color:rgba(215, 211, 207, 0.248);
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .logo {
            width: 15%;
        }
        .data{
            font-size: 40px;
            color: #465d7a;
        }
        h3 {
            color: #465d7a;
        }
        #submit {
            background-color: #6687b3;
            color:white;
        }
        #submit:hover {
        transform: scale(1.1);
        transition: transform 0.3s ease-in-out;
        background-color: #6687b3;
        color:white;
        opacity: 0.8;
        border: none;
        }
        #delete {
            background-color: rgba(179, 27, 47, 0.612);
            color:white;
        }
        #delete:hover {
        transform: scale(1.1);
        transition: transform 0.3s ease-in-out;
        background-color: rgb(180, 20, 63);
        color:white;
        opacity: 0.8;
        }
        #update {
            background-color: rgba(122, 87, 122, 0.56);
            color:white;
        }
        #update:hover {
        transform: scale(1.1);
        transition: transform 0.3s ease-in-out;
        background-color: rgba(161, 89, 161, 0.791);
        color:white;
        opacity: 0.8;
        }
        #resetFilters {
            background-color: #6687b3;
            color:white;
        }
        #resetFilter:hover {
        transform: scale(1.1);
        transition: transform 0.3s ease-in-out;
        background-color: #6687b3;
        color:white;
        opacity: 0.8;
        border: none;
        }
        .add-result {
        display: none;
        background-color: #cf7a847f;
        color:  rgb(255, 255, 255);
        border-radius: 20px;
        padding: 10px;  
        max-width:40%;   
        margin: auto;
        }
        #delete {
            gap: 20px;
        }

        #productInfo {
        border: none;
        border-radius: 20px;
        background-color:  rgb(194, 214, 221);
        }

        .logoSize {
            width: 90%  
        }
        
        @media screen and (max-width: 768px) {    
        img {
        width: 30%;
        }   
        .d-flex {
        flex-direction: column;
        align-items: center;
        }
        .gap-4 {
        gap: 0!important
        }

        form {
            margin: auto;
        } 
        }

        @media screen and (max-width: 570px) {    
        form {
           width:  100%;
           margin-left: 40px;
        }
        }  
    </style>
</head>
<body>
    <div class="container text-center mx- my-3">
        <div><img src="new-product.png" class="logo my-3"></div>
        <p class="data mb-5">Data Table</p>
        <hr>
        <p class="add-result mb-4" id="add-result"></p>
        <form>
            <h3 class="my-4">Adding new products</h3>
            <div class="row">
                <div class="d-flex gap-4">
                    <div class="input-group mb-3">
                        <span class="title input-group-text" id="basic-addon1">Title</span>
                        <input type="text" id="title" name="title" class="form-control" placeholder="Type text..." aria-label="Username" aria-describedby="basic-addon1">
                    </div>
                    <div class="input-group mb-3">
                        <span class="brand input-group-text" id="basic-addon1">Brand</span>
                        <input type="text" id="brand" name="brand" class="form-control" placeholder="Type text..." aria-label="Username" aria-describedby="basic-addon1">
                    </div>
                </div>

                <div class="d-flex gap-4">
                    <div class="input-group mb-3">
                        <span class="price input-group-text" id="basic-addon1">Price</span>
                        <input type="number" id="price" name="price" class="form-control" placeholder="Type number..." aria-label="Username" aria-describedby="basic-addon1">
                    </div>
                    <div class="input-group mb-3">
                        <span class="stock input-group-text" id="basic-addon1">Stock</span>
                        <input type="number" id="stock" name="stock" class="form-control" placeholder="Type number..." aria-label="Username" aria-describedby="basic-addon1">
                    </div>
                </div>

                <div class="d-flex gap-4">
                    <div class="input-group mb-3">
                        <label class="input-group-text" for="category">Category</label>
                        <select class="form-select" id="category" name="category">
                        <option disabled selected>Choose...</option>
                        <option value="smartphones">Smartphones</option>
                        <option value="laptops">Laptops</option>
                        <option value="fragrances">Fragrances</option>
                        <option value="skincare">Skincare</option>
                        <option value="groceries">Groceries</option>
                        <option value="home-decoration">Home-decoration</option>
                        </select>
                    </div>
                    <div class="input-group mb-3">
                        <span class="discount input-group-text" id="basic-addon1">Discount</span>
                        <input type="number" min="0" max="100" value="0" id="discount" name="discount" class="form-control"   placeholder="Type number..." aria-label="Username" aria-describedby="basic-addon1">
                    </div>
                </div>

                <div class="d-flex gap-4">
                    <div class="input-group mb-3">
                        <span class="rating input-group-text" id="basic-addon1">Rating</span>
                        <input type="number" min="0" max="5" value="0" id="rating" name="rating" class="form-control"   placeholder="Type number..." aria-label="Username" aria-describedby="basic-addon1">
                    </div>
                    <div class="input-group mb-3">
                        <span class="imageUrl input-group-text" id="basic-addon1">Image</span>
                        <input type="text" id="imageUrl" name="mageUrl" class="form-control" placeholder="Type text..." aria-label="Username" aria-describedby="basic-addon1">
                    </div>
                </div>

                <div class="input-group">
                    <span class="input-group-text">Product Description</span>
                    <textarea class="form-control" aria-label="With textarea" id="description" placeholder="Type text..."></textarea>
                  </div>
               
                <div><button type="button" class="btn btn-default px-5 my-4" id="submit">Submit</button></div> 
            </div>
        </form>
        <hr>

        <form>
            <h3 class="my-4">Filtering</h3>
            <div class="row">
                <div class="d-flex gap-4">
                    <div class="input-group mb-3">
                        <span class="title input-group-text" id="basic-addon1">Title</span>
                        <input type="text" id="filterName" name="filterName" class="form-control" placeholder="Type text..." aria-label="Username" aria-describedby="basic-addon1">
                    </div>

                    <div class="input-group mb-3">
                        <span class="brand input-group-text" id="basic-addon1">Brand</span>
                        <input type="text" id="filterBrand" name="filterBrand" class="form-control" placeholder="Type text..." aria-label="Username" aria-describedby="basic-addon1">
                    </div>
                </div>

                <div class="d-flex gap-4">
                    <div class="input-group mb-3">
                        <span class="price input-group-text" id="basic-addon1">Price (from)</span>
                        <input type="number" id="filterPriceFrom" min="0" name="filterPriceFrom" class="form-control" placeholder="Type number..." aria-label="Username" aria-describedby="basic-addon1">
                    </div>

                    <div class="input-group mb-3">
                        <span class="price input-group-text" id="basic-addon1">Price (to)</span>
                        <input type="number" id="filterPriceTo"  min="0" name="filterPriceTo" class="form-control" placeholder="Type number..." aria-label="Username" aria-describedby="basic-addon1">
                    </div>
                </div>
            </div>
            
            <div class="d-flex gap-4">
                <div class="input-group mb-3">
                    <label class="input-group-text" for="filterCategory">Category</label>
                    <select class="form-select" id="filterCategory" name="filterCategory">
                    <option disabled selected>Choose...</option>
                    <option value="smartphones">Smartphones</option>
                    <option value="laptops">Laptops</option>
                    <option value="fragrances">Fragrances</option>
                    <option value="skincare">Skincare</option>
                    <option value="groceries">Groceries</option>
                    <option value="home-decoration">Home-decoration</option>
                    </select>
                </div>

                <div class="input-group mb-3">
                    <span class="discount input-group-text" id="basic-addon1">Discount (from)</span>
                    <input type="number" min="0" max="100" value="0" id="filterDiscount" name="filterDiscount" class="form-control" placeholder="" aria-label="Username" aria-describedby="basic-addon1">
                </div>
            </div>

                <div class="input-group">
                    <span class="input-group-text">Product Description</span>
                    <textarea class="form-control" aria-label="With textarea" id="filterDescription" placeholder="Type text..."></textarea>
                </div>
 
            <div><button type="button" class="btn btn-default px-5 my-4" id="resetFilters">Reset Filters</button></div> 
          </form>
        <hr>

        <table class=" table table-light table-hover table-bordered my-5">
            <thead>
                <tr class="table-dark">
                    <th>#</th>
                    <th>Product Name</th>
                    <th>Price</th>
                    <th>Stock</th>
                    <th>Brand</th>
                    <th>Category</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="dynamic-data">
                <tr> 
                    <!-- sita eilute buna perrasoma per "for" ir yra nereikalinga  -->
                    <td>EXAMPLE</td>
                    <td>Apple Product</td>
                    <td>1.50</td>
                    <td>40</td>
                    <td>Apple</td>
                    <td>Groceries</td>
                </tr>
            </tbody>
        </table>
    </div>

    <dialog id="productInfo" style="width: 58%; padding: 0">
        <!-- <div style="max-width: 70%; margin: 0 auto">
            <img src="https://i.dummyjson.com/data/products/1/thumbnail.jpg" alt="Product photo"/>
            <div class="product-details">
                <div class="row">
                    <span class="col-2 fw-bold">Discount</span>
                    <span class="col-1">-10%</span>
                </div>
                <div class="row">
                    <span class="col-2 fw-bold">Rating</span>
                    <span class="col-1">4.23</span>
                </div>
                <div class="row">
                    <span class="col-2 fw-bold">Description</span>
                    <span class="col-6"></span>Lorem, ipsum dolor sit amet consectetur adipisicing elit.</span>
                </div>
            </div>
        </div> -->
    </dialog>

    <script src="products.js"></script>

    <script>
        // Priega prie kintamuju is scripto "products": console.log (products);
        // JS kodas skirtas atlikti CRUD veiksmams;
        // Produktu atvaizdavimas yra per JS - atvaizduojami html tbody;
        

        // elementu paemimas:
        const dynamicDataElement = document.getElementById("dynamic-data"),
			    titleInputElement = document.getElementById("title"),
				priceInputElement = document.getElementById("price"),
				stockInputElement = document.getElementById("stock"),
				brandInputElement = document.getElementById("brand"),
				categoryInputElement = document.getElementById("category"),
				submitButtonElement = document.getElementById("submit"),
                addResult = document.getElementById ("add-result"),

                modalElement = document.getElementById("productInfo"),
                photoElement = document.getElementById("imageUrl"),
                discountElement = document.getElementById("discount"),
                ratingElement = document.getElementById("rating"),
                descriptionElement = document.getElementById("description"),

                filterNameElement = document.getElementById("filterName"),
                filterBrandElement = document.getElementById("filterBrand"),
                filterPriceFromElement = document.getElementById("filterPriceFrom"),
                filterPriceToElement = document.getElementById("filterPriceTo"),
                filterCategoryElement = document.getElementById("filterCategory"),
                filterDiscountElement = document.getElementById("filterDiscount"),
                filterDescriptionElement  = document.getElementById("filterDescription");

                let currentId = 31;

    //FILTERING:
        filterNameElement.onkeyup = filter; 
        filterBrandElement.onkeyup = filter; 
        filterPriceFromElement.onkeyup = filter; 
        filterPriceToElement .onkeyup = filter; 
        filterDescriptionElement.onkeyup = filter;
        filterDiscountElement.onkeyup = filter;
      

        function filter (){
            let productName = filterNameElement.value.toLowerCase();
            let brandName = filterBrandElement.value.toLowerCase();
            let minPrice = +filterPriceFromElement.value;
            let maxPrice = +filterPriceToElement.value;
            let discountNumber = +filterDiscountElement.value
            let descriptionText =  filterDescriptionElement.value;

            let filteredArray = products.filter((product) => product.title.toLowerCase().includes (productName));
            filteredArray = filteredArray.filter((product) => product.brand.toLowerCase().includes (brandName));
            filteredArray = filteredArray.filter ((product) => product.price >= minPrice);
            if (maxPrice !== 0){
                filteredArray = filteredArray.filter ((product) => product.price <= maxPrice);
            }
            filteredArray = filteredArray.filter ((product) => product.description.toLowerCase().includes (descriptionText));
            filteredArray = filteredArray.filter ((product) => product.discountPrecentage >= discountNumber);
     

            getTableContents (filteredArray);
            console.log(filteredArray);
        }


       // READ - kiekvieno produkto atvaizdavimas lenteleje
       const getTableContents = (productsArrey) => {
				let dynamicHTML = ``;
            // Einamasis vienas objektas "product" imtas is masyvo "products" ir ciklas kartojasi 30kartu
            for (const product of products) {
                //Yra sukuriamas papildomai delete button (tik cia) ir jam priskiriama delete funkcija. Button duoda nuorodo i button id kuri reikia istrinti. Id lieka unikalus visada.
                //Yyra sukuriamas papildomai update button (tik cia) ir jam priskiriama setEdit funkcija. Kai nusetinsime editinima kazkuriam produktui - tada visas reiskmes is produkto perkeliamos i imputus.
					dynamicHTML += `<tr>
						<td onclick="showaModal(${product.id})">${product.id}</td>
						<td>${product.title}</td>
						<td>${product.price}</td>
						<td>${product.stock}</td>
						<td>${product.brand}</td>
						<td>${product.category}</td>
                        <td>
                            <button class="btn btn-default" id="delete" onclick="deleteProduct(${product.id})"style="margin-bottom: 3px;">Delete</button>
                            <button class="btn btn-default" id="update" onclick="setEdit(${product.id})" style="margin-bottom: 3px;">Update</button>
                        </td>
                </tr>`;
            }  
            // ideti ciklo rezultata i html (console.log ([dynamicDataElement]));
            dynamicDataElement.innerHTML = dynamicHTML; //jeigu prideti += tada prisides EXAMPLE eilute
        };
 
        // kad funkcija suveiktu ja reikia iskviesti (yra galimas automatinis funckijos sikvietimas apskliaudus funkcija ir uz jos ribu padejus skliaustelius).
        getTableContents (products);

        //MODAL: visas produkto objektas kuri bus tvaizduojamas lange
        const showaModal = (id) =>{
            let elementIndex = products.findIndex((value) => value.id === id); //gausime elemento indeksa (pozicija) masyve,
            const product = products[elementIndex];

            let dynamicHTML = 
            `<div id="modalBody" style="width:100%; height: 100%;"><div style="max-width: 58%; margin: 0 auto">
            <img src="${product.thumbnail}" class="my-3 logoSize rounded-5" alt="Product photo"/>
            <div class="product-details">
                <div class="row">
                    <span class="col-lg-3 fw-bold">Discount</span>
                    <span class="col-lg-1">${product.discountPercentage}%</span>
                </div>
                <div class="row">
                    <span class="col-lg-3 fw-bold">Rating</span>
                    <span class="col-lg-9">${product.rating} out of 5 </span>
                </div>
                <div class="row">
                    <span class="col-lg-3 fw-bold">Description </span>
                    <span class="col-9">${product.description}</span>
                </div>
            </div>

             <div class="d-flex align-items-center justify-content-center">
                <button type="button" class="btn btn-default px-5 my-4" id="submit" onclick="modalElement.close()">Close</button>
             </div>
        </div></div>`;

            modalElement.innerHTML = dynamicHTML;

            // Kad paspaudus i bacground - isijungtu modal langas
            document.querySelector("#modalBody").onclick = (event) => {   // kad butu du ciklai - window/background
                event.stopPropagation();     //kad neperduotu clicko i bacground 
                console.log("clicked on modal window")
            }
            modalElement.showModal();
        } 
            //Paspaudus ant modalinio background:
            modalElement.onclick = () => {
                modalElement.close ();
                console.log ("cliclked on modal element")
            }
        

        // CREATE - funkcija sukuria nauja objekta i kuri isides input reiksmes 
        const createNewRecord = (event) => {
            //event.PreventDefault - kad puslapis nepersikrautu (dazniausiai naudojama su formomis kai nera nurodytas button type: button, nes tada automatiskai buna submit ir persikrauna)
            event.preventDefault(); //console.log (event);
				const newProduct = {
                    id: currentId,  //kiekvinas naujas pridetas elementas tures vis didesni id priklausomai nuo paskutnio elemento id.(iki modal prodejimo buvo id: products[products.length - 1].id + 1,)
					title: titleInputElement.value,
                    description: descriptionElement.value,
					price: + priceInputElement.value, //kad nebutu stringas
                    discountPercentage: +discountElement.value, //kad nebutu stringas
                    rating: +ratingElement.value,
					stock: +stockInputElement.value,
					brand: brandInputElement.value,
					category: categoryInputElement.value,
                    thumbnail: photoElement.value
				};

                    // Get input values for validation:
                    const title = titleInputElement.value;
                    const brand = brandInputElement.value;
                    const price = priceInputElement.value;
                    const stock = stockInputElement.value;
                    const category = categoryInputElement.value;
                    const discountPrecentage = discountElement.value;
                    const rating = ratingElement.value;
                    const thumbnail = photoElement.value;
                    const description = descriptionElement.value;
                    // console.log(title), console.log(price), console.log(stock), console.log(brand), console.log(category)

                   // Validations:
                if (!title || !price || !stock || !brand || !category || !discountPrecentage || !rating || !thumbnail || !description) {
                    addResult.innerText = (`Please, fill in the complete form! \n Only number should be typed in Price/Stock/Discount/Rating`)
                    addResult.style.display = 'block';
                    addResult.style.backgroundColor = '#cf7a847f';
                    return;
                } else {
                    addResult.style.display = 'none';
                }

                if (category == '' || category === 'Choose...') {
                    addResult.innerText =  ('Please select a category!');
                    addResult.style.display = 'block';
                    addResult.style.backgroundColor = '#cf7a847f';
                    return;
                } else {
                    addResult.style.display = 'none';
                }

                 // Validations: Duplicate product check is performed based on product details.
                 const duplicateProduct = products.find((existingProduct) =>
                existingProduct.title.toLowerCase() === newProduct.title.toLowerCase() &&
                existingProduct.price === newProduct.price &&
                existingProduct.stock === newProduct.stock &&
                existingProduct.brand.toLowerCase() === newProduct.brand.toLowerCase() &&
                existingProduct.category === newProduct.category &&
                existingProduct.discountPrecentage === newProduct.discountPrecentage &&
                existingProduct.rating === newProduct.rating &&
                existingProduct.thumbnail === newProduct.thumbnail &&
                existingProduct.description === newProduct.description
                );

                if (duplicateProduct) {
                addResult.innerText = `A product with the same details already exists!`;
                addResult.style.display = 'block';
                addResult.style.backgroundColor = '#cf7a847f';
                return;
                }

                // prie "products" masyvo prideti nauja produkta
                products.push(newProduct);
                currentId++;

                // palikti inputus tuscius
                    titleInputElement.value = "";
                    priceInputElement.value = "";
                    stockInputElement.value = "";
                    brandInputElement.value = "";
                    categoryInputElement.value = "";
                    photoElement.value = "";
                    ratingElement.value = "";
                    discountElement .value = "";
                    descriptionElement .value = "";
        
                //Pakeisti alert teksta
                addResult.style.display = 'block';
                addResult.innerText = 'New element has been successfully added!';
                //kad pakeisti spalva
                addResult.style.backgroundColor = '#76cd7e7f';

                // kad table atsinajunitu su naujU elementu, reikia vel iskviesti atvaizdavimo funkcija
                getTableContents();
        }; 

        // Kai mygtukas yra spaudziamas - issikviecia funkcija
        submitButtonElement.onclick = createNewRecord;

        // DELETE - Sukurti nuaja delete button ir istrina elementa pagal jo id(parametras)
        const deleteProduct = (id) => {
            // Unikalus/nesikartojantis ID. kad suzinoti elemento vieta masyve - naudoti findindex. Funkcija("value"- kiekvieno producto reiksme): joje ieskome produkto kurio id atitnka auksciau(deleteProducts) nurodyta id.
            let elementIndex = products.findIndex((value)=>value.id === id);
            // console.log(elementIndex); 
            products.splice(elementIndex,1);
 
            //Pakeisti alert teksta
            addResult.style.display = 'block';
            addResult.innerText = 'Selected element has been successfully deleted!';
            //kad pakeisti spalva
            addResult.style.backgroundColor = '#76cd7e7f';

            // kad table atsinajunitu su istrintu elementu, reikia vel iskviesti atvaizdavimo funkcija
             getTableContents();
        };
 
        // UPDATE - Sukurti nuaja update button
        // Svarbus prie update: kai neesame update rezime (nepaspaustas mygtukas) tada yra false. Kaip paspaudziam, rezimas keiciasi i "true".
        let editMode = false; 
        let currentProduct;

        // Back to Initial state: kai updatinimas bus baigtas, grizti prie default vaizdo
        const updateProduct = (event)=>{
            event.preventDefault();

             // Check for duplicates before updating
                const updatedTitle = titleInputElement.value;
                const updatedPrice = +priceInputElement.value;
                const updatedStock = +stockInputElement.value;
                const updatedBrand = brandInputElement.value;
                const updatedCategory = categoryInputElement.value;
                const updatedThumbnail = photoElement.value;
                const updatedRating = +ratingElement.value;
                const updatedDiscountPrecentage = +discountElement.value;
                const updatedDescription = descriptionElement.value;

                const duplicateProduct = products.find(
                    (existingProduct) =>
                        existingProduct.id !== currentProduct &&
                        existingProduct.title.toLowerCase() === updatedTitle.toLowerCase() &&
                        existingProduct.price === updatedPrice &&
                        existingProduct.stock === updatedStock &&
                        existingProduct.brand.toLowerCase() === updatedBrand.toLowerCase() &&
                        existingProduct.category === updatedCategory &&
                        existingProduct.thumbnail === updatedThumbnail &&
                        existingProduct.rating === updatedRating &&
                        existingProduct.discountPercentage === updatedDiscountPrecentage &&
                        existingProduct.description === updatedDescription
                );

                if (duplicateProduct) {
                    addResult.innerText = `A product with the same details already exists!`;
                    addResult.style.display = 'block';
                    addResult.style.backgroundColor = '#cf7a847f';
                    return;
                }

                // Continue with the update if no duplicates found
                // //reiskme bus tokia kokia inpute
                products[currentProduct].title = updatedTitle;
                products[currentProduct].price = updatedPrice;
                products[currentProduct].stock = updatedStock;
                products[currentProduct].brand = updatedBrand;
                products[currentProduct].category = updatedCategory;
                products[currentProduct].thumbnail = updatedThumbnail;
                products[currentProduct].rating = updatedRating;
                products[currentProduct].discountPercentage = updatedDiscountPrecentage;
                products[currentProduct].description = updatedDescription;
        

                // Validations:
                if (!updatedTitle || !updatedPrice || !updatedStock || !updatedBrand || !updatedCategory || !updatedThumbnail || !updatedRating || !updatedDiscountPrecentage || !updatedDescription ) {
                addResult.innerText = (`Please, fill in the complete form! \n Only number should be typed in Price/Stock/Discount/Rating`)
                addResult.style.display = 'block';
                addResult.style.backgroundColor = '#cf7a847f';
                return;
                } else {
                    addResult.style.display = 'none';
                }

                if (updatedCategory == '' || updatedCategory === 'Choose...') {
                    addResult.innerText =  ('Please select a category!');
                    addResult.style.display = 'block';
                    addResult.style.backgroundColor = '#cf7a847f';
                    return;
                } else {
                    addResult.style.display = 'none';
                }

            currentProduct = undefined;
            editMode = false; 
            submitButtonElement.onclick = createNewRecord;
            //Pakeisti mygtuko teksta
            submitButtonElement.innerText = 'Submit';
            //kad pakeisti naujo update button spalva (per klase- submitButtonElement.classList.add/remove('btn-primary');
            submitButtonElement.style.backgroundColor = '#6687b3';

            // palikti inputus tuscius
            titleInputElement.value = "";
            priceInputElement.value = "";
            stockInputElement.value = "";
            brandInputElement.value = "";
            categoryInputElement.value = "";
            photoElement.value = "";
            ratingElement.value = "";
            discountElement .value = "";
            descriptionElement .value = "";

             //Pakeisti alert teksta
             addResult.style.display = 'block';
            addResult.innerText = 'Selected element has been successfully updated!';
            //kad pakeisti spalva
            addResult.style.backgroundColor = '#76cd7e7f';

            getTableContents();
        };

        // Edit state: elemento atnaujinimas. Bus editinamas tam tikras produktas ir jo id yra (id):
        const setEdit = (id) => {
            //suradome to produkto indeksa masyve (pagal id)
            let elementIndex = products.findIndex(value=>value.id === id);
            //gauti pati produkta(jo reiksme). Pagal indeksa susirandame kuris produktas bus redaguojamas
            const product = products[elementIndex]; //console.log(product)
            //kad visos reiksmes is pasirinkto produkto atsirastu inpute
            titleInputElement.value = product.title;
            priceInputElement.value = product.price;
            stockInputElement.value = product.stock;
            brandInputElement.value = product.brand;
            categoryInputElement.value = product.category;
            photoElement.value = product.thumbnail;
            ratingElement.value = product.rating;
            discountElement.value = product.discountPercentage;
            descriptionElement .value = product.description;

            //Pakeisti mygtuko teksta
            submitButtonElement.innerText = 'Update';
            //kad pakeisti naujo update button spalva (per klase-  submitButtonElement.classList.add/remove('btn-primary');
            submitButtonElement.style.backgroundColor = '#6687b3';
            //priskirti mygtukui funkcija
            submitButtonElement.onclick = updateProduct;

            //elemento pozicija masyva kuria redaguosim
            currentProduct = elementIndex; 

            editMode = true; 
        };
    </script>
</body>
</html>



